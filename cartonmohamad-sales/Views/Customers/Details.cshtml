@model cartonmohamad_sales.Models.Customer
@{
    ViewBag.Title = "جزئیات مشتری";
    Layout = "~/Views/Shared/_Layout.cshtml";

    Func<string, string> StatusBadge = s =>
    {
        if (string.IsNullOrWhiteSpace(s)) return "bg-secondary";
        s = s.Trim();
        if (s == "فعال") return "bg-success";
        if (s == "در حال پیگیری") return "bg-warning text-dark";
        return "bg-secondary"; // غیرفعال یا سایر
    };

    Func<string, string> PayBadge = s =>
    {
        if (string.IsNullOrWhiteSpace(s)) return "bg-secondary";
        s = s.Trim();
        if (s == "خوش‌حساب") return "bg-success";
        if (s == "متوسط") return "bg-warning text-dark";
        if (s == "بدحساب") return "bg-danger";
        return "bg-secondary";
    };
}

<div class="container py-4" dir="rtl">
    <nav aria-label="breadcrumb" class="mb-3">
        <ol class="breadcrumb">
            <li class="breadcrumb-item">@Html.ActionLink("مشتریان", "Index")</li>
            <li class="breadcrumb-item active" aria-current="page">جزئیات مشتری</li>
        </ol>
    </nav>

    <div class="card shadow-sm">
        <div class="card-header d-flex align-items-center justify-content-between">
            <h5 class="m-0">
                <i class="fa fa-user ms-2"></i>
                @Html.DisplayFor(m => m.Customer1)
            </h5>
            <div class="btn-group">
                @Html.ActionLink("ویرایش", "Edit", new { id = Model.ID }, new { @class = "btn btn-primary btn-sm" })
                @Html.ActionLink("بازگشت", "Index", null, new { @class = "btn btn-outline-secondary btn-sm" })
            </div>
        </div>

        <div class="card-body">
            <div class="row g-4">
                <div class="col-md-6">
                    <div class="list-group">
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="text-muted">@Html.DisplayNameFor(m => m.Customer1)</span>
                            <span class="fw-bold">@Html.DisplayFor(m => m.Customer1)</span>
                        </div>
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="text-muted">@Html.DisplayNameFor(m => m.company_name)</span>
                            <span class="fw-bold">@Html.DisplayFor(m => m.company_name)</span>
                        </div>
                    </div>
                </div>

                <div class="col-md-6">
                    <div class="list-group">
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="text-muted">@Html.DisplayNameFor(m => m.Status)</span>
                            <span class="badge @StatusBadge(Model.Status) px-3 py-2">
                                @Html.DisplayFor(m => m.Status)
                            </span>
                        </div>
                        <div class="list-group-item d-flex justify-content-between align-items-center">
                            <span class="text-muted">@Html.DisplayNameFor(m => m.payment_behavior)</span>
                            <span class="badge @PayBadge(Model.payment_behavior) px-3 py-2">
                                @Html.DisplayFor(m => m.payment_behavior)
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="card-footer d-flex justify-content-between">
            <div class="text-muted small">
                <i class="fa fa-circle-info ms-1"></i>
                اطلاعات نمایش داده شده فقط خواندنی است.
            </div>
            <div class="btn-group">
                @Html.ActionLink("ویرایش اطلاعات", "Edit", new { id = Model.ID }, new { @class = "btn btn-primary" })
                @Html.ActionLink("بازگشت به فهرست", "Index", null, new { @class = "btn btn-outline-secondary" })
            </div>
        </div>
    </div>
</div>

@section Styles{
    <style>
        [dir="rtl"] .list-group-item {
            text-align: right;
        }

        .card {
            border-radius: 12px;
            overflow: hidden;
        }

        .badge {
            font-weight: 600;
        }
    </style>
}
